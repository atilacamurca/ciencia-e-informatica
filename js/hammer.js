function Hammer(a,b,c){function d(a){return a.touches?a.touches.length:1}function e(a){if(a=a||window.event,a.touches){for(var b,c=[],d=0,e=a.touches.length;e>d;d++)b=a.touches[d],c.push({x:b.pageX,y:b.pageY});return c}var f=document,g=f.body;return[{x:a.pageX||a.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&f.clientLeft||0),y:a.pageY||a.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&f.clientTop||0)}]}function f(a,b){return 180*Math.atan2(b.y-a.y,b.x-a.x)/Math.PI}function g(a,b){b.touches=e(b.originalEvent),b.type=a,m(n["on"+a])&&n["on"+a].call(n,b)}function h(a){a=a||window.event,a.preventDefault?a.preventDefault():(a.returnValue=!1,a.cancelBubble=!0)}function i(){v={},x=!1,w=0,s=0,t=0,y=null}function j(c){switch(c.type){case"mousedown":case"touchstart":v.start=e(c),A=(new Date).getTime(),w=d(c),x=!0,p=c;var f=a.getBoundingClientRect(),j=a.clientTop||document.body.clientTop||0,k=a.clientLeft||document.body.clientLeft||0,l=window.pageYOffset||a.scrollTop||document.body.scrollTop,m=window.pageXOffset||a.scrollLeft||document.body.scrollLeft;E={top:f.top+l-j,left:f.left+m-k},F=!0,G.hold(c),b.prevent_default&&h(c);break;case"mousemove":case"touchmove":if(!F)return!1;q=c,v.move=e(c),G.transform(c)||G.drag(c);break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!F||"transform"!=y&&c.touches&&c.touches.length>0)return!1;F=!1,r=c,"drag"==y?g("dragend",{originalEvent:c,direction:u,distance:s,angle:t}):"transform"==y?g("transformend",{originalEvent:c,position:v.center,scale:c.scale,rotation:c.rotation}):G.tap(p),z=y,i()}}function k(a,b){if(!b&&window.event&&window.event.toElement&&(b=window.event.toElement),a===b)return!0;if(b)for(var c=b.parentNode;null!==c;){if(c===a)return!0;c=c.parentNode}return!1}function l(a,b){var c={};if(!b)return a;for(var d in a)d in b?c[d]=b[d]:c[d]=a[d];return c}function m(a){return"[object Function]"==Object.prototype.toString.call(a)}var n=this,o={prevent_default:!1,css_hacks:!0,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:20,transform:!0,scale_treshold:.1,rotation_treshold:15,tap:!0,tap_double:!0,tap_max_interval:300,tap_double_distance:20,hold:!0,hold_timeout:500};b=l(o,b),function(){if(!b.css_hacks)return!1;for(var c=["webkit","moz","ms","o",""],d={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},e="",f=0;f<c.length;f++)for(var g in d)e=g,c[f]&&(e=c[f]+e.substring(0,1).toUpperCase()+e.substring(1)),a.style[e]=d[g]}();var p,q,r,s=0,t=0,u=0,v={},w=0,x=!1,y=null,z=null,A=null,B={x:0,y:0},C=null,D=null,E={},F=!1;this.getDirectionFromAngle=function(a){var b,c,d={down:a>=45&&135>a,left:a>=135||-135>=a,up:-45>a&&a>-135,right:a>=-45&&45>=a};for(c in d)if(d[c]){b=c;break}return b};var G={hold:function(a){b.hold&&(y="hold",clearTimeout(D),D=setTimeout(function(){"hold"==y&&g("hold",{originalEvent:a,position:v.start})},b.hold_timeout))},drag:function(a){var c=v.move[0].x-v.start[0].x,d=v.move[0].y-v.start[0].y;if(s=Math.sqrt(c*c+d*d),b.drag&&s>b.drag_min_distance||"drag"==y){t=f(v.start[0],v.move[0]),u=n.getDirectionFromAngle(t);var e="up"==u||"down"==u;if((e&&!b.drag_vertical||!e&&!b.drag_horizontal)&&s>b.drag_min_distance)return;y="drag";var i={x:v.move[0].x-E.left,y:v.move[0].y-E.top},j={originalEvent:a,position:i,direction:u,distance:s,distanceX:c,distanceY:d,angle:t};x&&(g("dragstart",j),x=!1),g("drag",j),h(a)}},transform:function(a){if(b.transform){var c=a.scale||1,e=a.rotation||0;if(2!=d(a))return!1;if("drag"!=y&&("transform"==y||Math.abs(1-c)>b.scale_treshold||Math.abs(e)>b.rotation_treshold)){y="transform",v.center={x:(v.move[0].x+v.move[1].x)/2-E.left,y:(v.move[0].y+v.move[1].y)/2-E.top};var f={originalEvent:a,position:v.center,scale:c,rotation:e};return x&&(g("transformstart",f),x=!1),g("transform",f),h(a),!0}}return!1},tap:function(a){var c=(new Date).getTime(),d=c-A;if(!b.hold||b.hold&&b.hold_timeout>d){var e=function(){if(B&&b.tap_double&&"tap"==z&&A-C<b.tap_max_interval){var a=Math.abs(B[0].x-v.start[0].x),c=Math.abs(B[0].y-v.start[0].y);return B&&v.start&&Math.max(a,c)<b.tap_double_distance}return!1}();e?(y="double_tap",C=null,g("doubletap",{originalEvent:a,position:v.start}),h(a)):(y="tap",C=c,B=v.start,b.tap&&(g("tap",{originalEvent:a,position:v.start}),h(a)))}}};"ontouchstart"in window?(a.addEventListener("touchstart",j,!1),a.addEventListener("touchmove",j,!1),a.addEventListener("touchend",j,!1),a.addEventListener("touchcancel",j,!1)):a.addEventListener?(a.addEventListener("mouseout",function(b){k(a,b.relatedTarget)||j(b)},!1),a.addEventListener("mouseup",j,!1),a.addEventListener("mousedown",j,!1),a.addEventListener("mousemove",j,!1)):document.attachEvent&&(a.attachEvent("onmouseout",function(b){k(a,b.relatedTarget)||j(b)},!1),a.attachEvent("onmouseup",j),a.attachEvent("onmousedown",j),a.attachEvent("onmousemove",j))}