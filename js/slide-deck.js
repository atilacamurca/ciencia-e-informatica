function SlideDeck(a){this.curSlide_=0,this.prevSlide_=0,this.config_=null,this.container=a||document.querySelector("slides"),this.slides=[],this.controller=null,this.getCurrentSlideFromHash_(),this.onDomLoaded_.bind(this)()}document.cancelFullScreen=document.webkitCancelFullScreen||document.mozCancelFullScreen,SlideDeck.prototype.SLIDE_CLASSES_=["far-past","past","current","next","far-next"],SlideDeck.prototype.CSS_DIR_="theme/css/",SlideDeck.prototype.getCurrentSlideFromHash_=function(){var a=parseInt(document.location.hash.substr(1));a?this.curSlide_=a-1:this.curSlide_=0},SlideDeck.prototype.loadSlide=function(a){a&&(this.curSlide_=a-1,this.updateSlides_())},SlideDeck.prototype.onDomLoaded_=function(a){document.body.classList.add("loaded"),this.slides=this.container.querySelectorAll("slide:not([hidden]):not(.hidden):not(.backdrop)"),Modernizr.mq("only screen and (max-device-width: 480px)")&&this.container.classList.remove("layout-widescreen"),this.loadConfig_(SLIDE_CONFIG),this.addEventListeners_(),this.updateSlides_();for(var b,c=this,d=0;b=this.slides[d];++d)b.dataset.slideNum=d+1,b.dataset.totalSlides=this.slides.length,b.addEventListener("click",function(a){document.body.classList.contains("overview")&&(c.loadSlide(this.dataset.slideNum),a.preventDefault(),window.setTimeout(function(){c.toggleOverview()},500))},!1);this.controller=new SlideController(this),this.controller.isPopup&&document.body.classList.add("popup")},SlideDeck.prototype.addEventListeners_=function(){document.addEventListener("keydown",this.onBodyKeyDown_.bind(this),!1),window.addEventListener("popstate",this.onPopState_.bind(this),!1)},SlideDeck.prototype.onPopState_=function(a){null!=a.state&&(this.curSlide_=a.state,this.updateSlides_(!0))},SlideDeck.prototype.onBodyKeyDown_=function(a){if(!/^(input|textarea)$/i.test(a.target.nodeName)&&!a.target.isContentEditable)switch(this.controller&&this.controller.isPopup&&this.controller.sendMsg({keyCode:a.keyCode}),a.keyCode){case 13:document.body.classList.contains("overview")&&this.toggleOverview();break;case 39:case 32:case 34:this.nextSlide(),a.preventDefault();break;case 37:case 8:case 33:this.prevSlide(),a.preventDefault();break;case 40:this.nextSlide(),a.preventDefault();break;case 38:this.prevSlide(),a.preventDefault();break;case 72:document.body.classList.toggle("highlight-code");break;case 79:this.toggleOverview();break;case 80:this.controller&&this.controller.isPopup?document.body.classList.toggle("with-notes"):this.controller&&!this.controller.popup&&document.body.classList.toggle("with-notes");break;case 82:break;case 27:document.body.classList.remove("with-notes"),document.body.classList.remove("highlight-code"),document.body.classList.contains("overview")&&this.toggleOverview();break;case 70:a.target!=document.body||a.shiftKey&&a.metaKey||(void 0===document.mozFullScreen||document.mozFullScreen?void 0===document.webkitIsFullScreen||document.webkitIsFullScreen?document.cancelFullScreen():document.body.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):document.body.mozRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT));break;case 87:a.target!=document.body||a.shiftKey&&a.metaKey||this.container.classList.toggle("layout-widescreen")}},SlideDeck.prototype.focusOverview_=function(){for(var a,b=document.body.classList.contains("overview"),c=0;a=this.slides[c];c++)a.style[Modernizr.prefixed("transform")]=b?"translateZ(-2500px) translate("+105*(c-this.curSlide_)+"%, 0%)":""},SlideDeck.prototype.toggleOverview=function(){document.body.classList.toggle("overview"),this.focusOverview_()},SlideDeck.prototype.loadConfig_=function(a){if(a){this.config_=a;var b=this.config_.settings;if(this.loadTheme_(b.theme||[]),b.favIcon&&this.addFavIcon_(b.favIcon),"usePrettify"in b&&!b.usePrettify||prettyPrint(),b.analytics&&this.loadAnalytics_(),b.fonts&&this.addFonts_(b.fonts),"useBuilds"in b&&!b.useBuilds||this.makeBuildLists_(),b.title&&(document.title=b.title.replace(/<br\/?>/," "),b.eventInfo&&b.eventInfo.title&&(document.title+=" - "+b.eventInfo.title),document.querySelector("[data-config-title]").innerHTML=b.title),b.subtitle&&(document.querySelector("[data-config-subtitle]").innerHTML=b.subtitle),this.config_.presenters){var c=this.config_.presenters,d=document.querySelector("[data-config-contact]"),e=[];if(1==c.length){var f=c[0],g=[f.name];f.company&&g.push(f.company),e=g.join(" - ")+"<br>";var h=f.gplus?'<span>g+</span><a href="'+f.gplus+'">'+f.gplus.replace(/https?:\/\//,"")+"</a>":"",i=f.twitter?'<span>twitter</span><a href="http://twitter.com/'+f.twitter+'">'+f.twitter+"</a>":"",j=f.www?'<span>www</span><a href="'+f.www+'">'+f.www.replace(/https?:\/\//,"")+"</a>":"",k=f.github?'<span>github</span><a href="'+f.github+'">'+f.github.replace(/https?:\/\//,"")+"</a>":"",l=[h,i,j,k].join("<br>");d&&(d.innerHTML=l)}else{for(var f,m=0;f=c[m];++m)e.push(f.name+" - "+f.company);e=e.join("<br>"),d&&(d.innerHTML=e)}var n=document.querySelector("[data-config-presenter]");if(n&&(n.innerHTML=e,b.eventInfo)){var o=b.eventInfo.date,p=o?" - <time>"+o+"</time>":"";n.innerHTML+=b.eventInfo.title+p}}if(!("enableSlideAreas"in b)||b.enableSlideAreas){var q=document.createElement("div");q.classList.add("slide-area"),q.id="prev-slide-area",q.addEventListener("click",this.prevSlide.bind(this),!1),this.container.appendChild(q);var q=document.createElement("div");q.classList.add("slide-area"),q.id="next-slide-area",q.addEventListener("click",this.nextSlide.bind(this),!1),this.container.appendChild(q)}if(Modernizr.touch&&(!("enableTouch"in b)||b.enableTouch)){var r=this;window.addEventListener("touchstart",function(a){a.preventDefault()},!1);var s=new Hammer(this.container);s.ondragend=function(a){"right"==a.direction||"down"==a.direction?r.prevSlide():("left"==a.direction||"up"==a.direction)&&r.nextSlide()}}}},SlideDeck.prototype.addFonts_=function(a){var b=document.createElement("link");b.rel="stylesheet",b.href=("https:"==document.location.protocol?"https":"http")+"://fonts.googleapis.com/css?family="+a.join("|")+"&v2",document.querySelector("head").appendChild(b)},SlideDeck.prototype.buildNextItem_=function(){var a=this.slides[this.curSlide_],b=a.querySelector(".to-build"),c=a.querySelector(".build-current");if(c&&(c.classList.remove("build-current"),c.classList.contains("fade")&&c.classList.add("build-fade")),!b){for(var d,e=a.querySelectorAll(".build-fade"),f=0;d=e[f];f++)d.classList.remove("build-fade");return!1}return b.classList.remove("to-build"),b.classList.add("build-current"),!0},SlideDeck.prototype.prevSlide=function(a){if(this.curSlide_>0){var b=document.body.classList;b.remove("highlight-code"),this.controller&&!this.controller.isPopup?b.remove("with-notes"):this.controller||b.remove("with-notes"),this.prevSlide_=this.curSlide_--,this.updateSlides_(a)}},SlideDeck.prototype.nextSlide=function(a){if((document.body.classList.contains("overview")||!this.buildNextItem_())&&this.curSlide_<this.slides.length-1){var b=document.body.classList;b.remove("highlight-code"),this.controller&&!this.controller.isPopup?b.remove("with-notes"):this.controller||b.remove("with-notes"),this.prevSlide_=this.curSlide_++,this.updateSlides_(a)}},SlideDeck.prototype.triggerSlideEvent=function(a,b){var c=this.getSlideEl_(b);if(c){var d=c.getAttribute(a);d&&new Function(d).call(c);var e=document.createEvent("Event");e.initEvent(a,!0,!0),e.slideNumber=b+1,e.slide=c,c.dispatchEvent(e)}},SlideDeck.prototype.updateSlides_=function(a){for(var b=a||!1,c=this.curSlide_,d=0;d<this.slides.length;++d)switch(d){case c-2:this.updateSlideClass_(d,"far-past");break;case c-1:this.updateSlideClass_(d,"past");break;case c:this.updateSlideClass_(d,"current");break;case c+1:this.updateSlideClass_(d,"next");break;case c+2:this.updateSlideClass_(d,"far-next");break;default:this.updateSlideClass_(d)}return this.triggerSlideEvent("slideleave",this.prevSlide_),this.triggerSlideEvent("slideenter",c),this.enableSlideFrames_(c+1),window.setTimeout(this.enableSlideFrames_.bind(this,c+2),1e3),this.updateHash_(b),document.body.classList.contains("overview")?void this.focusOverview_():void 0},SlideDeck.prototype.enableSlideFrames_=function(a){var b=this.slides[a-1];if(b)for(var c,d=b.querySelectorAll("iframe"),e=0;c=d[e];e++)this.enableFrame_(c)},SlideDeck.prototype.enableFrame_=function(a){var b=a.dataset.src;b&&a.src!=b&&(a.src=b)},SlideDeck.prototype.disableSlideFrames_=function(a){var b=this.slides[a-1];if(b)for(var c,d=b.querySelectorAll("iframe"),e=0;c=d[e];e++)this.disableFrame_(c)},SlideDeck.prototype.disableFrame_=function(a){a.src="about:blank"},SlideDeck.prototype.getSlideEl_=function(a){return 0>a||a>=this.slides.length?null:this.slides[a]},SlideDeck.prototype.updateSlideClass_=function(a,b){var c=this.getSlideEl_(a);if(c){b&&c.classList.add(b);for(var d,e=0;d=this.SLIDE_CLASSES_[e];++e)b!=d&&c.classList.remove(d)}},SlideDeck.prototype.makeBuildLists_=function(){for(var a,b=this.curSlide_;a=this.slides[b];++b)for(var c,d=a.querySelectorAll(".build > *"),e=0;c=d[e];++e)c.classList&&(c.classList.add("to-build"),c.parentNode.classList.contains("fade")&&c.classList.add("fade"))},SlideDeck.prototype.updateHash_=function(a){if(!a){var b=this.curSlide_+1,c="#"+b;window.history.pushState?window.history.pushState(this.curSlide_,"Slide "+b,c):window.location.replace(c),window._gaq&&window._gaq.push(["_trackPageview",document.location.href])}},SlideDeck.prototype.addFavIcon_=function(a){var b=document.createElement("link");b.rel="icon",b.type="image/png",b.href=a,document.querySelector("head").appendChild(b)},SlideDeck.prototype.loadTheme_=function(a){var b=[];"String"===a.constructor.name?b.push(a):b=a;for(var c,d=0;themeUrl=b[d];d++){var c=document.createElement("link");c.rel="stylesheet",c.type="text/css",-1==themeUrl.indexOf("http")?c.href=this.CSS_DIR_+themeUrl+".css":c.href=themeUrl,document.querySelector("head").appendChild(c)}},SlideDeck.prototype.loadAnalytics_=function(){var a=window._gaq||[];a.push(["_setAccount",this.config_.settings.analytics]),a.push(["_trackPageview"]),function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()},function(){Modernizr.load({test:!!document.body.classList&&!!document.body.dataset,nope:["js/polyfills/classList.min.js","js/polyfills/dataset.min.js"],complete:function(){window.slidedeck=new SlideDeck}})}();