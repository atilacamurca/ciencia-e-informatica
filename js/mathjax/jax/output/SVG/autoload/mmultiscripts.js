MathJax.Hub.Register.StartupHook("SVG Jax Ready",function(){var a=MathJax.ElementJax.mml,b=MathJax.OutputJax.SVG;a.mmultiscripts.Augment({toSVG:function(a,c){this.SVGgetStyles();var d=this.SVG();this.SVGhandleSpace(d);var e,f=this.SVGgetScale(),g=this.data[this.base]?this.SVGdataStretched(this.base,a,c):b.BBOX.G().Clean(),h=b.TeX.x_height*f,i=b.TeX.scriptspace*f*.75,j=this.SVGgetScripts(i),k=j[0],l=j[1],m=j[2],n=j[3],o=(this.data[1]||this).SVGgetScale(),p=b.TeX.sup_drop*o,q=b.TeX.sub_drop*o,r=g.h-p,s=g.d+q,t=0;g.ic&&(t=g.ic),!this.data[this.base]||"mi"!==this.data[this.base].type&&"mo"!==this.data[this.base].type||1!==this.data[this.base].data.join("").length||1!==g.scale||g.stretched||this.data[this.base].Get("largeop")||(r=s=0);var u=this.getValues("subscriptshift","superscriptshift"),v=this.SVGgetMu(d);u.subscriptshift=""===u.subscriptshift?0:b.length2em(u.subscriptshift,v),u.superscriptshift=""===u.superscriptshift?0:b.length2em(u.superscriptshift,v);var w=0;if(m?w=m.w+t:n&&(w=n.w-t),d.Add(g,Math.max(0,w),0),l||n)if(k||m){s=Math.max(s,b.TeX.sub2*f);var x=b.TeX.rule_thickness*f,y=(k||m).h,z=(l||n).d;m&&(y=Math.max(y,m.h)),n&&(z=Math.max(z,n.d)),3*x>r-z-(y-s)&&(s=3*x-r+z+y,p=.8*h-(r-z),p>0&&(r+=p,s-=p)),r=Math.max(r,u.superscriptshift),s=Math.max(s,u.subscriptshift),l&&d.Add(l,w+g.w+i,r),n&&d.Add(n,w+t-n.w,r),k&&d.Add(k,w+g.w+i-t,-s),m&&d.Add(m,w-m.w,-s)}else{var A=this.getValues("displaystyle","texprimestyle");e=b.TeX[A.displaystyle?"sup1":A.texprimestyle?"sup3":"sup2"],r=Math.max(r,e*f,u.superscriptshift),l&&(r=Math.max(r,l.d+.25*h)),n&&(r=Math.max(r,n.d+.25*h)),l&&d.Add(l,w+g.w+i,r),n&&d.Add(n,0,r)}else s=Math.max(s,b.TeX.sub1*f,u.subscriptshift),k&&(s=Math.max(s,k.h-.8*h)),m&&(s=Math.max(s,m.h-.8*h)),k&&d.Add(k,w+g.w+i-t,-s),m&&d.Add(m,0,-s);return d.Clean(),this.SVGhandleColor(d),this.SVGsaveData(d),d},SVGgetScripts:function(a){for(var c,d,e=[],f=1,g=this.data.length,h=0,i=0;4>i;i+=2){for(;g>f&&"mprescripts"!==this.data[f].type;){for(var j=i;i+2>j;j++)this.data[f]&&"none"!==this.data[f].type&&(e[j]||(e[j]=b.BBOX.G()),e[j].Add(this.data[f].toSVG().With({x:h}))),f++;d=e[i]||{w:0},c=e[i+1]||{w:0},d.w=c.w=h=Math.max(d.w,c.w)}f++,h=0}for(j=0;4>j;j++)e[j]&&(e[j].w+=a,e[j].Clean());return e}}),MathJax.Hub.Startup.signal.Post("SVG mmultiscripts Ready"),MathJax.Ajax.loadComplete(b.autoloadDir+"/mmultiscripts.js")});