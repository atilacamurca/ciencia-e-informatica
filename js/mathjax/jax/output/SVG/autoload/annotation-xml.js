MathJax.Hub.Register.StartupHook("SVG Jax Ready",function(){var a=MathJax.ElementJax.mml,b=MathJax.OutputJax.SVG,c=b.BBOX;c.FOREIGN=c.Subclass({type:"foreignObject",removeable:!1}),a["annotation-xml"].Augment({toSVG:function(){var a=this.SVG();this.SVGhandleSpace(a);for(var b=this.Get("encoding"),c=0,d=this.data.length;d>c;c++)a.Add(this.data[c].toSVG(b),a.w,0);return a.Clean(),this.SVGhandleColor(a),this.SVGsaveData(a),a}}),a.xml.Augment({toSVG:function(a){var d=b.textSVG.parentNode;b.mathDiv.style.width="auto",d.insertBefore(this.div,b.textSVG);var e=this.div.offsetWidth,f=this.div.offsetHeight,g=MathJax.HTML.addElement(this.div,"span",{style:{display:"inline-block",overflow:"hidden",height:f+"px",width:"1px",marginRight:"-1px"}}),h=this.div.offsetHeight-f;f-=h,this.div.removeChild(g),d.removeChild(this.div),b.mathDiv.style.width="";for(var i=1e3/b.em,j=c.FOREIGN({y:-f+"px",width:e+"px",height:f+h+"px",transform:"scale("+i+") matrix(1 0 0 -1 0 0)"}),k=0,l=this.data.length;l>k;k++)j.element.appendChild(this.data[k].cloneNode(!0));return j.w=e*i,j.h=f*i,j.d=h*i,j.r=j.w,j.l=0,j.Clean(),this.SVGsaveData(j),j}}),MathJax.Hub.Startup.signal.Post("SVG annotation-xml Ready"),MathJax.Ajax.loadComplete(b.autoloadDir+"/annotation-xml.js")});